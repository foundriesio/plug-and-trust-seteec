..
    Copyright 2020 NXP




.. _sems-lite-demo-cli-app:

SEMS Lite CLI APP
=================================

This example, is more advanced than :numref:`ex-sems-lite-agent-demo` :ref:`ex-sems-lite-agent-demo`.

This example takes command line parameters and talks to the SEMS Lite Applet.

.. warning::

    This application is alpha status and would keep evolving/changing.

Building the CLI APP
-----------------------------------

- Build Plug & Trust middleware stack. (Refer :ref:`building`)
- Project: ``sems_lite_cli_app``

CLI Parameters
-----------------------------------


- ``--loadpkg`` <path-to-SEMS-Lite-applet-package-binary-file>

Load a binary file.

- ``--getuid``

Get UID

- ``--getappcontents`` [optional-app-aid]

Store contents of card to ``File-Name-to-store-card-contents``

e.g. ``--getappcontents out_contents_file.bin 01030011``

- ``--getpkgcontents`` [optional-pkg-aid]

- ``--semslitegetversion``

Print version of the SEMS Lite Applet

- ``--getsignature`` <File-Name-to-store-signature>

Get signature of last script

- ``--checkTear``

Check if tearing has happened

- ``--checkUpgradeProgress``

Check upgrade progress

- ``--getENCIdentifier``

Get SK.SEMS.ENC Identifier

- ``--getCAIdentifier``

Get CA-SEMS Identifier

- ``--getCAKeyIdentifier``

Get CA-SEMS signature verification key identifier

- ``--getpkgversion``

Get Package Version

- ``--getFreePHeap``

Get PHeap Information

- ``--getECParameter``

Get configured EC domain parameter type

- ``--getFIPSInfo``

Get configured FIPS Information

- ``--testapplet`` <applet-aid> <apdu-command>

Used to select test applet and send dummy APDU Command

Usage - K64F
--------------------------------

- Ensure VCOM interface is setup for K64.

- SET EX_SSS_BOOT_SSS_PORT=<COM Port>

- Run application with applicable commandline parameters



Usage - Raspberry Linux
--------------------------------

- Run application with applicable commandline parameters


Version Compatibility
--------------------------------

SEMS Lite cli application from SEMS Lite 2.0.0 can support binary file generated by tools of SEMS Lite 2.0.0 and those of SEMS Lite 1.0.0. But SEMS Lite cli application from SEMS Lite 1.0.0 can not support binary file generated by tools of SEMS Lite 2.0.0.

.. csv-table::
    :file: cli_app_version_compatibility.csv
